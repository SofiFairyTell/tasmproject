text    segment 'code'
        assume CS:text
begin: 	mov DS, AX      ;Установим графический режим EGA
	mov AH,00h
	;mov АH,00h      ;(1)Функция задания режима
	mov AL,10h      ;(2)Графический режим EGA
	int 10h         ;(3)Вызов BIOS 
;Нарисуем прямую линию в цикле по Х
	mov SI,150      ;(4)Начальная Х-координата
	mov CX,300      ;(5)Число точек по горизонтали
line:   push CX ;(6)Сохраним его в стеке
	mov AH,0Ch      ;(7)Функция вывода пиксела
	mov AL,4        ;(8)Цвет красный
	mov BH,0        ;(9)Видеостраница
	mov CX,SI       ;(10)Х-координата (переменная)
	mov DX,180      ;(11)Y-координата (константа)
	int 10h ;(12)Вызов BIOS
	inc SI          ;(13)Инкремент Х-координаты
	pop CX  ;(14)Восстановим счетчик шагов
	loop line       ;(15)Цикл из CX шагов
;Остановим программу для наблюдения результата ее работы
	mov AH,08h      ;(16)Функция ввода с клавиатуры без эха
	int 21h         ;(17)Вызов DOS
	;Переключим видеоадаптер назад в текстовый режим
	mov AH,00h      ;(18)Функция задания режима
	mov AL,03h      ;(19)Текстовый режим
	int 10h ;(20)Вызов BIOS
	mov AX, 4C00h
	int 21h
text    ends                            ; 
stk     Segment stack 'stack'             
        dw  128 dup (0)             ; 
stk     ends                        ; 
        end begin                   ; 